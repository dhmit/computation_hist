{% extends "base.jinja2" %}

{% block title %} Document {% endblock %}

{% block self %}

    <h1>You're looking at {{ doc_obj }}</h1>

{% endblock %}

{% block table %}

    {% if len(author_person_objs) != 0 or len(author_organization_objs) != 0 %}
        <h3>{{ doc_obj }} was written by</h3>
        <br>
        {% if len(author_person_objs) != 0 %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Author Name</th>
                    <th scope="col">Link</th>
                </tr>
                </thead>
                <tbody>
                {% for item in author_person_objs %}
                    <tr>
                        <th scope="row">{{ loop.index }} </th>
                        <td>{{ item }}</td>
                        <td><a href="/dj_comp_hist/person/{{ item.pk }}">Link</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
        <br>
        {% if len(author_organization_objs) != 0 %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Authoring Organization</th>
                    <th scope="col">Link</th>
                </tr>
                </thead>
                <tbody>
                {% for item in author_organization_objs %}
                    <tr>
                        <th scope="row">{{ loop.index }} </th>
                        <td>{{ item }}</td>
                        <td><a href="/dj_comp_hist/person/{{ item.pk }}">Link</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
        <br>
    {% endif %}

    {% if len(recipient_person_objs) != 0 or len(recipient_organization_objs) != 0 %}
        <h3>{{ doc_obj }} was received by</h3>
        <br>
        {% if len(recipient_person_objs) != 0 %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Recipient Name</th>
                    <th scope="col">Link</th>
                </tr>
                </thead>
                <tbody>
                {% for item in recipient_person_objs %}
                    <tr>
                        <th scope="row">{{ loop.index }} </th>
                        <td>{{ item }}</td>
                        <td><a href="/dj_comp_hist/person/{{ item.pk }}">Link</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
        <br>
        {% if len(recipient_organization_objs) != 0 %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Recipient Organization</th>
                    <th scope="col">Link</th>
                </tr>
                </thead>
                <tbody>
                {% for item in recipient_organization_objs %}
                    <tr>
                        <th scope="row">{{ loop.index }} </th>
                        <td>{{ item }}</td>
                        <td><a href="/dj_comp_hist/person/{{ item.pk }}">Link</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
        <br>
    {% endif %}

    {% if len(cced_person_objs) != 0 or len(cced_organization_objs) != 0 %}
        <h3>{{ doc_obj }} was cced to</h3>
        <br>
        {% if len(cced_person_objs) != 0 %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">CC'ed Name</th>
                    <th scope="col">Link</th>
                </tr>
                </thead>
                <tbody>
                {% for item in cced_person_objs %}
                    <tr>
                        <th scope="row">{{ loop.index }} </th>
                        <td>{{ item }}</td>
                        <td><a href="/dj_comp_hist/person/{{ item.pk }}">Link</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
        <br>
        {% if len(cced_organization_objs) != 0 %}
            <table class="table">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">CC'ed Organization</th>
                    <th scope="col">Link</th>
                </tr>
                </thead>
                <tbody>
                {% for item in cced_organization_objs %}
                    <tr>
                        <th scope="row">{{ loop.index }} </th>
                        <td>{{ item }}</td>
                        <td><a href="/dj_comp_hist/person/{{ item.pk }}">Link</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}
        <br>
    {% endif %}

{% endblock %}